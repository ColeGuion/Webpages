<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dual Text Processor</title>
    <link rel="stylesheet" href="Style/make_data.css">
    <style>

    </style>
</head>
<body>
    <div class="container">
        <!-- <h1>Dual Text Processor</h1> -->
        <div class="input-row">
            <div class="input-group">
                <!-- <label for="source">Source</label> -->
                <div class="input-wrapper">
                    <input type="text" id="source" placeholder="SOURCE">
                    <button class="clear-btn" onclick="clearInput('source')" title="Clear source">Ã—</button>
                </div>
            </div>
            <div class="input-group">
                <!-- <label for="dtype">DType</label> -->
                <div class="input-wrapper">
                    <input type="text" id="dtype" placeholder="DTYPE" oninput="togglePhonesSection()">
                    <button class="clear-btn" onclick="clearInput('dtype')" title="Clear dtype">Ã—</button>
                </div>
            </div>
        </div>

        <div id="phones-section" class="input-row" style="display: none;">
            <div class="input-group">
                <label for="phone1">Phones</label>
                <div class="input-wrapper">
                    <input type="text" id="phone1" placeholder="Enter phone 1...">
                    <button class="clear-btn" onclick="clearInput('phone1')" title="Clear phone 1">Ã—</button>
                </div>
            </div>
            <div class="input-group">
                <label for="phone2">&nbsp;</label>
                <div class="input-wrapper">
                    <input type="text" id="phone2" placeholder="Enter phone 2...">
                    <button class="clear-btn" onclick="clearInput('phone2')" title="Clear phone 2">Ã—</button>
                </div>
            </div>
        </div>

        <div class="textbox-container">
            <div class="textbox-group">
                <!-- <div class="textbox-header">
                    <label for="textbox1">Text Box 1</label>
                    <div class="textbox-buttons">
                        <button class="textarea-copy-btn" onclick="copyTextarea('textbox1')" title="Copy text">ðŸ“‹ Copy</button>
                        <button class="textarea-clear-btn" onclick="clearTextarea('textbox1')" title="Clear text">Ã— Clear</button>
                    </div>
                </div> -->
                <div class="textbox-wrapper">
                    <div class="textarea-container">
                        <div class="line-numbers" id="line-numbers-1"></div>
                        <textarea id="textbox1" oninput="updateLineNumbers('textbox1', 'line-numbers-1')" onscroll="syncScroll('textbox1', 'line-numbers-1')" onpaste="handlePaste('textbox1')"></textarea>
                    </div>
                </div>
                <div class="textbox-footer">
                    <button class="textarea-copy-btn" onclick="copyTextarea('textbox1')" title="Copy text">ðŸ“‹ Copy</button>
                    <button class="textarea-clear-btn" onclick="clearTextarea('textbox1')" title="Clear text">Ã— Clear</button>
                </div>
            </div>
            <div class="textbox-group">
                <!-- <div class="textbox-header">
                    <label for="textbox2">Text Box 2</label>
                    <div class="textbox-buttons">
                        <button class="textarea-copy-btn" onclick="copyTextarea('textbox2')" title="Copy text">ðŸ“‹ Copy</button>
                        <button class="textarea-clear-btn" onclick="clearTextarea('textbox2')" title="Clear text">Ã— Clear</button>
                    </div>
                </div> -->
                <div class="textbox-wrapper">
                    <div class="textarea-container">
                        <div class="line-numbers" id="line-numbers-2"></div>
                        <textarea id="textbox2" oninput="updateLineNumbers('textbox2', 'line-numbers-2')" onscroll="syncScroll('textbox2', 'line-numbers-2')" onpaste="handlePaste('textbox2')"></textarea>
                    </div> 
                </div>
                <div class="textbox-footer">
                    <button class="textarea-copy-btn" onclick="copyTextarea('textbox2')" title="Copy text">ðŸ“‹ Copy</button>
                    <button class="textarea-clear-btn" onclick="clearTextarea('textbox2')" title="Clear text">Ã— Clear</button>
                </div>
            </div>
        </div>

        <div class="button-container">
            <button class="action-btn remove-numbers" onclick="removeNumbers()">
                Remove Numbers
            </button>
            <button class="action-btn remove-quotes" onclick="removeQuotes()">
                Remove Quotes
            </button>
            <button class="action-btn replace-apostrophe" onclick="replaceApostrophes()">
                Replace Apostrophes
            </button>
            <button class="action-btn replace-apostrophe" onclick="removeEmptyLines()">Remove Empty Lines</button>
            <button class="action-btn replace-apostrophe" onclick="combineToSentences()">Combine To Sentences</button>
            <button class="action-btn submit-btn" onclick="submitData()">
                Submit Data
            </button>
        </div>

        <div id="result-container" style="display: none; margin-top: 30px;">
            <h2 style="color: #333; margin-bottom: 15px; text-align: center;">Generated JSON Objects</h2>
            <div style="position: relative;">
                <pre id="result-display" style="background: rgba(0, 0, 0, 0.05); padding: 20px; border-radius: 10px; font-family: 'Courier New', monospace; font-size: 14px; line-height: 1.6; max-height: 400px; overflow-y: auto; border: 2px solid #e0e0e0;"></pre>
                <button class="action-btn" onclick="copyResult()" style="position: absolute; top: 10px; right: 30px; padding: 8px 16px; font-size: 12px; min-width: auto; background: linear-gradient(45deg, #667eea, #764ba2);">
                    ðŸ“‹ Copy JSON
                </button>
            </div>
        </div>
    </div>

    <!-- TODO: Fix line number issues. (When mulit-line string ends with one word sometimes the alignment doesn't align properly) -->
    <!-- TODO: Add bigger space between different lines, but not the same line that is wrapped -->
    <!-- TODO: Make source and dtype inputs smaller; Make text boxes wider (line numbers smaller) -->
    <script src="Scripts/data_maker.js"></script>
    <script> 
        window.addEventListener('load', function() {
            // Initialize line numbers on page load
            updateLineNumbers('textbox1', 'line-numbers-1');
            updateLineNumbers('textbox2', 'line-numbers-2');
        });
        // Keyboard shortcuts
        document.addEventListener('keydown', function(event) {
            // ALT+X - Clear both text boxes
            if (event.altKey && event.key.toLowerCase() === 'x') {
                event.preventDefault();
                clearTextarea('textbox1');
                clearTextarea('textbox2');
            }
            
            // ALT+C - Copy JSON objects
            if (event.altKey && event.key.toLowerCase() === 'c') {
                event.preventDefault();
                if (window.currentResult) {
                    copyResult();
                }
            }
        });
    </script>
    <script src="Scripts/navigation.js"></script>
</body>
</html>