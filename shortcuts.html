<!DOCTYPE html>
<html>
<head>
    <title>Shortcuts</title>
    <link rel="stylesheet" href="Style/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <nav id="prognav">
        <a onclick="scrollToSection('vscode')">VS Code</a>
        <a onclick="scrollToSection('ditto')">Ditto</a>
        <a onclick="scrollToSection('powertoys')">PowerToys</a>
        <a onclick="scrollToSection('chrome')">Chrome</a>
        <a onclick="scrollToSection('nano')">Nano</a>
    </nav>

    <span class="todo"><u>TODO</u>: Add shortcut from <a href="https://support.microsoft.com/en-us/windows/keyboard-shortcuts-in-windows-dcc61a57-8ff0-cffe-9796-cb9706c75eec">Windows Keys Shortcuts</a></span>
    <br><span class="todo"><u>TODO</u>: Add shortcut from <a href="https://support.google.com/chrome/answer/157179?hl=en&co=GENIE.Platform%3DDesktop#zippy=%2Ctab-window-shortcuts%2Cgoogle-chrome-feature-shortcuts">Chrome Keyboard Shortcuts</a></span>
    <br><span class="todo"><u>TODO</u>: Save added shortcut in table once its added</span> 
    
    <div class="shortcut-section" id="vscode" name="visual_studio_code">
        <h2 onclick="toggleSection(this)">Visual Studio Code</h2>
        <div class="cuts">
            <div class="scTable" name="vsc-Navigation">
                <div class="tableName">Navigation</div>
                <div>CTRL + H</div>
                <div>Jump to 1st cell in notebook</div>

                <div>ALT + UP<b>/</b>DOWN</div>
                <div>Move a Line of Code</div>

                <div>ALT + <i class="fa-solid fa-arrow-left"></i><b>/</b><i class="fa-solid fa-arrow-right"></i></div>
                <div>Left/Right Tab</div>

                <div>CTRL + G</div>
                <div>Jump To Line</div>

                <div>CTRL + SHIFT + M</div>
                <div>Find line containing error</div>

                <div>ALT + F8</div>
                <div>Go To Next Error</div>
            </div>
            <div class="scTable" name="vsc-Jupyter">
                <div class="tableName">Jupyter Notebooks</div>
                <div>CTRL + N</div>
                <div>New cell below</div>

                <div>CTRL + ALT + N</div>
                <div>Fold cell <em><b>Code</b></em></div>

                <div>CTRL + ALT + M</div>
                <div>Fold cell <em><b>Output</b></em></div>

                <div>SHIFT + L</div>
                <div>Toggle line numbers</div>
            </div>
            <div class="scTable" name="vsc-Collapsing">
                <div class="tableName">Collapsing</div>
                <div>CTRL + K + 0</div>
                <div>Collapse All</div>

                <div>CTRL + SHIFT + [</div>
                <div>Collapse Section</div>

                <div>CTRL + SHIFT + ]</div>
                <div>Expand Section</div>
                <!-- <button class="add-row-btn" onclick="addEditableRow(this.parentNode)"><i class="fas fa-plus"></i> Add Shortcut</button> -->
            </div>
            <div class="scTable" name="vsc-VSCode">
                <div class="tableName">VS Code</div>
                <div>ALT + Click</div>
                <div>Insert Multi-Cursors</div>

                <div>SHIFT + F12</div>
                <div>Go To References</div>

                <div>F12</div>
                <div>Go To Definition</div>

                <div>CTRL + ALT + P</div>
                <div>Peek Definition</div>

                <div>CTRL + P</div>
                <div>List All Files</div>

                <div>CTRL + SHIFT + R</div>
                <div>Find All References</div>

                <div>CTRL + K + S</div>
                <div>Keyboard Shortcuts</div>

                <div>CTRL + K + S</div>
                <div>Keyboard Shortcuts</div>
                <!-- <button class="add-row-btn" onclick="addEditableRow(this.parentNode)"><i class="fas fa-plus"></i> Add Shortcut</button> -->
            </div>
            <div class="scTable" name="vsc-Files">
                <div class="tableName">Open Files & Tabs</div>
                <div>CTRL + SHIFT + E</div>
                <div>Open Extensions Tab</div>

                <div>CTRL + SHIFT + F</div>
                <div>Open File Explorer Tab</div>

                <div>CTRL + T</div>
                <div>New File</div>

                <div>CTRL + O</div>
                <div>Open File</div>

                <div>CTRL + K + O</div>
                <div>Open Folder</div>

                <div>CTRL + W</div>
                <div>Close Current Tab</div>
                <!-- <button class="add-row-btn" onclick="addEditableRow(this.parentNode)"><i class="fas fa-plus"></i> Add Shortcut</button> -->
            </div>
        </div>
    </div>

    <div class="shortcut-section" id="ditto" name="ditto">
        <h2 onclick="toggleSection(this)">Ditto</h2>
        <div class="cuts" id="winTables">
            <div class="scTable" style="width: 50%;">
                <div class="tableName">Ditto</div>
                <div>CTRL + ALT + `</div>
                <div>Open Ditto</div>
                <div>CTRL + ALT + T</div>
                <div>"Create 10 grammatically correct sentences using the phrase"</div>
                <div>CTRL + ALT + G</div>
                <div>"Is this text grammatically correct? """</div>
                <div>CTRL + ALT + C</div>
                <div>"Which text has better English grammar? A) B) "</div>
                <!-- <button class="add-row-btn" onclick="addEditableRow(this.parentNode)"><i class="fas fa-plus"></i> Add Shortcut</button> -->
            </div>
        </div>
    </div>

    <div class="shortcut-section" id="chrome" name="google_chrome">
        <h2 onclick="toggleSection(this)">Google Chrome</h2>
        <div class="cuts"> <!-- <div class="cuts collapsed"> -->
            <div class="scTable">
                <div class="tableName">Navigation</div>
                <div>CTRL + T</div>
                <div>Open a New Tab</div>

                <div>CTRL + W</div>
                <div>Close the current tab</div>

                <div>CTRL + TAB</div>
                <div>Next Tab</div>

                <div>CTRL + SHIFT + TAB</div>
                <div>Previous tab</div>

                <div>CTRL + 1<b>-</b>8</div>
                <div>Jump to a specific tab</div>

                <div>CTRL + 9</div>
                <div>Jump to rightmost tab</div>

                <div>CTRL + SHIFT + PgUp<b>/</b>PgDown</div>
                <div>Move tab Left/Right</div>

            </div>

            <div class="scTable">
                <div class="tableName">More</div>
                <div>CTRL + R</div>
                <div>Normal Reload</div>

                <div>CTRL + SHIFT + R</div>
                <div>Hard Reload</div>

                <div>WIN + TAB</div>
                <div>Open Task View</div>

                <div>CTRL + D</div>
                <div>Duplicate Tab</div>

                <div>F11</div>
                <div>Full screen mode</div>

                <div>ALT + F</div>
                <div>Select & print html element in console</div>
            </div>

            <div class="scTable">
                <div class="tableName">Editing</div>
                <div>CTRL + Z</div>
                <div>Undo Change</div>

                <div>CTRL + Y</div>
                <div>Redo Change</div>

                <!-- <button class="add-row-btn" onclick="addEditableRow(this.parentNode)"><i class="fas fa-plus"></i> Add Shortcut</button> -->
            </div>
        </div>
    </div>

    <div class="shortcut-section" id="powertoys" name="windows_powertoys">
        <h2 onclick="toggleSection(this)">Windows (PowerToys)</h2>
        <div class="cuts" id="winTables">
            <div class="scTable" style="width: 30%; grid-template-columns: 1fr 1fr;">
                <div class="tableName">Advanced Paste</div>
                <div>WIN + SHIFT + V</div>
                <div>Open Advanced Paste window</div>
                <div>WIN + CTRL + ALT + V</div>
                <div>Paste as plain text</div>
                <div>WIN + CTRL + ALT + J</div>
                <div>Paste as JSON</div>
                <!-- <button class="add-row-btn" onclick="addEditableRow(this.parentNode)"><i class="fas fa-plus"></i> Add Shortcut</button> -->
            </div>

            <div class="scTable">
                <div class="tableName">More</div>
                <div>WIN + CTRL + T</div>
                <div>Pin a Window</div>
                <div>WIN + SHIFT + T</div>
                <div>Text Extractor</div>
                <div>WIN + SHIFT + C</div>
                <div>Color Picker</div>
                <div>WIN + SHIFT + V</div>
                <div>Advanced Paste</div>
                <div>CTRL + ALT + `</div>
                <div>Open Ditto</div>
                <!-- <button class="add-row-btn" onclick="addEditableRow(this.parentNode)"><i class="fas fa-plus"></i> Add Shortcut</button> -->
            </div>
        </div>
    </div>

    <div class="shortcut-section" id="nano" name="nano">
        <h2 onclick="toggleSection(this)">Nano</h2>
        <div class="cuts" id="winTables">
            <div class="scTable">
                <div class="tableName">Navigation</div>
                <div>CTRL + E</div>
                <div>Jump to end of line</div>
                <div>CTRL + W</div>
                <div>Search for word(Press again to find next match) (ALT + C makes it case-sensitive)</div>
                <div>CTRL + K</div>
                <div>Delete a line</div>
                <div>ALT + 6</div>
                <div>Copy current line</div>
                <div>ALT + /</div>
                <div>Jump to end of file</div>
                <div>ALT + U</div>
                <div>Undo</div>
                <div>ALT + E</div>
                <div>Redo</div>
                <!-- <div>CTRL + </div><div></div> -->
                <!-- <button class="add-row-btn" onclick="addEditableRow(this.parentNode)"><i class="fas fa-plus"></i> Add Shortcut</button> -->
            </div>
        </div>
    </div>

    <script>
        // Collapse/Expand Sections
        function toggleSection(header) {
            let content = header.nextElementSibling;
            content.classList.toggle("collapsed");
        }

        function scrollToSection(id) {
            const element = document.getElementById(id);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth' });
            }
        }

        // Change all '+' characters in .scTable element to be wrapped in <b></b>
        document.addEventListener('DOMContentLoaded', function() {
            const allDivs = document.querySelectorAll('.scTable div');
            allDivs.forEach(div => {
                div.innerHTML = div.innerHTML.replace(/\+/g, '<b>+</b>');    
            });
        });

        // Save table data to localStorage
        function saveTableData(table) {
            const tableId = table.getAttribute('data-table-id');
            const items = [];
            const divs = table.querySelectorAll('div:not(.tableName):not(.editable-row input)');
            
            for (let i = 0; i < divs.length; i += 2) {
                items.push({
                    shortcut: divs[i].textContent,
                    description: divs[i+1].textContent
                });
            }
            
            localStorage.setItem(`shortcutTable-${tableId}`, JSON.stringify(items));
        }

        // Load table data from localStorage
        function loadTableData() {
            const tables = document.querySelectorAll('.scTable');
            tables.forEach(table => {
                const tableId = table.getAttribute('data-table-id');
                const savedData = localStorage.getItem(`shortcutTable-${tableId}`);
                
                if (savedData) {
                    // Clear existing content (except table name and add button)
                    const tableName = table.querySelector('.tableName').textContent;
                    const addButton = table.querySelector('.add-row-btn');
                    table.innerHTML = '';
                    table.appendChild(document.createElement('div')).className = 'tableName';
                    table.querySelector('.tableName').textContent = tableName;
                    
                    // Add saved items
                    const items = JSON.parse(savedData);
                    items.forEach(item => {
                        const shortcutDiv = document.createElement('div');
                        shortcutDiv.textContent = item.shortcut;
                        
                        const descriptionDiv = document.createElement('div');
                        descriptionDiv.textContent = item.description;
                        
                        table.appendChild(shortcutDiv);
                        table.appendChild(descriptionDiv);
                    });
                    
                    // Re-add the add button
                    table.appendChild(addButton);
                    
                    // Format the shortcuts
                    formatShortcuts();
                }
            });
        }

        // Add editable row to a table
        function addEditableRow(table) {
            const d1 = document.createElement('div');
            const d2 = document.createElement('div');
            const btnDiv = document.createElement('div');
            const saveBtn = document.createElement('button');
            d1.contentEditable = true;
            d2.contentEditable = true;
            btnDiv.style.gridColumn = 'span 2';
            saveBtn.innerHTML = '<i class="fas fa-check"></i>';
            btnDiv.appendChild(saveBtn);
            saveBtn.onclick = function() {
                // Create new shortcut divs
                const shortcutDiv = document.createElement('div');
                shortcutDiv.textContent = d1.innerText;
                
                const descriptionDiv = document.createElement('div');
                descriptionDiv.textContent = d2.innerText;
                
                // Insert before the add button
                table.insertBefore(descriptionDiv, table.lastElementChild);
                table.insertBefore(shortcutDiv, descriptionDiv);
                
                // Format the new content
                shortcutDiv.textContent = shortcutDiv.textContent.toUpperCase();
                shortcutDiv.innerHTML = shortcutDiv.innerHTML.replace(/\+/g, '<b>+</b>');
                
                // Remove the editable row
                table.removeChild(btnDiv);
                table.removeChild(d2);
                table.removeChild(d1);
                    
                // Save the updated table
                saveTableData(table);
            };
            table.insertBefore(d1, table.lastElementChild);
            table.insertBefore(d2, table.lastElementChild);
            table.insertBefore(btnDiv, table.lastElementChild);
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            formatShortcuts();
            loadTableData();
        });
    </script>
    <script src="Scripts/navigation.js"></script>
</body>
</html>